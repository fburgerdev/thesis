% extend
\begin{myparagraph}
    The rest of the section deals with the question
    of whether a microbundle can be extended
    over a particular base space.

    Here \defterm{extended} means that when restricting
    such a microbundle
    to the initial base space we obtain a microbundle that
    is isomorphic to the initial microbundle.
\end{myparagraph}

% foreword cone / cylinder
\begin{myparagraph}
    % cone
    For a topological space $X$, we define the \defterm{cone} of $X$ to be 
    \[ CX = \cyl{X} / X \cross \{1\} \]
    and the \defterm{mapping cone} of a map $f: A \to B$ to be
    \[ B \sqcup_f CA = B \sqcup CA / \sim \]
    where $(a, 0) \sim b \iff f(a) = b$.
    
    % cylinder
    Similarly, we define the \defterm{cylinder} of $X$ to be
    \[ MX = \cyl{X} \]
    and the \defterm{mapping cylinder} of a map $f: A \to B$ to be
    \[ B \sqcup_f MA = B \sqcup MA / \sim \]
    where $(a, 0) \sim b \iff f(a) = b$.
\end{myparagraph}

% lemma cone
\begin{mystatement}{lemma}{induced::cone}[58]
    Let $A$ be a paracompact hausdorff space.
    A microbundle $\bb$ over $B$ can be extended to a microbundle
    over the mapping cone $B \sqcup_f CA$ if and only if $\ind{f}\bb$ is trivial.
\end{mystatement}

% proof cone
\begin{myproof}
    We show both implications.

    % =>
    `$\implies$'

    Let $\bb'$ be an extension of $\bb$ over $B \sqcup_f CA$.

    % homotopy
    The composition $A \xto{f} B \incl B \sqcup_f CA$ is
    null-homotopic via the homotopy
    \[ H(a, t) := [a, t] \]
    because $H(a, 0) = [a, 0] = [f(a)] = (\iota \circ f)(a)$
    and $H(a, 1) = [a, 1] = [\tilde{a}, 1] = H(\tilde{a}, 1)$.
    
    % theorem
    The Homotopy Theorem, which will be proved in \myintref{chapter::homotopy},
    yields that
    \[ \ind{(\iota \circ f)}\bb' \cong \ind{c_{A, [a, 1]}}\bb' \]
    since $\iota \circ f$ is homotopic to $c_{A, [a, 1]}$.
    Together with \myintref{induced::const},
    it follows that $\ind{(\iota \circ f)}\bb'$ is trivial.

    % conclusion
    Because $\ind{(\iota \circ f)}\bb' \cong \ind{f}(\ind{\iota}\bb') \cong \ind{f}\bb$,
    we conclude that $\ind{f}\bb$ is trivial.

    % <=
    `$\impliedby$'

    Let $\ind{f}\bb$ be trivial.

    % cylinder
    In contrast to the mapping cone,
    there exists a natural retraction from the mapping cylinder to its attached space
    \[ r: B \sqcup_f MA \to B \twith r([a, t]) = f(a). \]
    The diagram
    \[ A \cross \{1\} \incl B \sqcup_f MA \xto{r} B \]
    is equal to $f$ if we consider $A = \cylup{A}$.
    It follows from
    \[ \ind{r}\bb[A \cross \{1\}] = \ind{(r \circ \iota)}\bb = \ind{f}\bb \]
    and the assumption that $\ind{r}\bb[A \cross \{1\}]$ is trivial.
    Using \myintref{induced::trivial} and the retraction $(a, t) \mapsto (a, 1)$,
    we even see that $\ind{r}\bb[A \cross [\half, 1]]$ is trivial.

    % homeomorpism
    Since $A$ is paracompact hausdorff we can apply \myintref{microbundle::paracompact}.
    Hence, there exists a homeomorphism
    \[ \psi: V \isomto A \cross [\half, 1] \cross \R^n \]
    where $V$ is a neighborhood of $i_r(B)$ in $E(\ind{r}\bb[A \cross [\half, 1]])$.
    Without loss of generality,
    we may assume that $V = E(\ind{r}\bb[A \cross [\half, 1]])$
    by removing a closed subset of $E(\ind{r}\bb[A \cross [\half, 1]])$
    if necessary and applying \myintref{microbundle::total}.

    % extension
    Now we define an extended microbundle
    \[ \bundledef{\bb'}{B \sqcup_f CA}{E'}{i'}{j'} \twith \]
    \begin{itemize}
        \item $E' = E(\ind{r}\bb) / \inv{\psi}(A \cross \{1\} \cross \{x\})$ (for every $x \in \R^n$)
        \item $i'([a, t]) = [i_r([a, t])]$
        \item $j'([[a, t], e]) = [j_r([a, t], e)] = [a, t]$
    \end{itemize}
    The injection $i'$ is well-defined because $i_r$ maps every
    representative $[a, 1]$ to the same equivalence
    class of $E'$ due to its construction.
    Similarly, the projection $j'$ is well-defined because
    \[ [[a, t], e] = [[a', t'], e'] \implies  [a, t] = [a, t']. \]

    % extension :: continuity and commutativity
    Both $i'$ and $j'$ are continuous
    due to the definition of the quotient space topology.
    Also, $j' \circ i' = id_{B \sqcup_f CA}$ because
    \[ j'(i'([a, t])) = j'([i_r(a, t)]) = [j_r(i_r(a, t))] = [a, t]. \]
    
    % extension :: local triviality
    It remains to be shown that $\bb'$ is locally trivial:

    Let $[a, t] \in B \sqcup_f CA$ be arbitrary.

    % TODO: make the following part more rigorous
    % far away
    If $[a, t]$ is `far away' from the critical point $[a, 1]$,
    say $t < \half$, we can simply take a local trivialization of $[a, t]$ in $\ind{r}\bb$
    to serve as a local trivialization of $[a, t]$ in $\bb'$,
    by restricting such a local trivialization to $A \times [0, \half)$ if necessary.

    That is because the cone and the cylinder differ only
    in an arbitrary small neighborhood of $[a, 1]$.

    % close
    When a point is `close' to the critical point, say $t > \half$,
    we can take $\psi$ to be the homeomorphism for our local trivialization.
    By construction, $\psi$ respects the quotient $\pi: E(\ind{r}\bb) \subm E'$.
    It follows that $(\frst{\psi}(\pi(V)), \pi(V), \psi)$
    is a local trivialization for $[a, t]$ in $\bb'$.
\end{myproof}